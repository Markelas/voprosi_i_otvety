## ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ Middleware –≤ Redux

Redux –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (API-–∑–∞–ø—Ä–æ—Å—ã, —Ç–∞–π–º–µ—Ä—ã) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **middleware**.

---

### üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ Middleware?

**Middleware** ‚Äî —ç—Ç–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª–æ–π –º–µ–∂–¥—É `dispatch` –∏ `reducer`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å Actions –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç –≤ Reducer.

–í—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–ª–∏ –∏–∑–º–µ–Ω—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –º–æ–º–µ–Ω—Ç–æ–º –æ—Ç–ø—Ä–∞–≤–∫–∏ (dispatch) –¥–µ–π—Å—Ç–≤–∏—è –∏ –µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ä–µ–¥—é—Å–µ—Ä–æ–º. Middleware –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º –≤–Ω–µ–¥—Ä—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –º–Ω–æ–≥–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ.

```
Component ‚Üí dispatch(action) ‚Üí [Middleware] ‚Üí Reducer ‚Üí Store
```

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (API-–∑–∞–ø—Ä–æ—Å—ã)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Actions
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è Actions –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ Reducer

**–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ –ø–æ—Ä—è–¥–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Middleware**
**–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: middleware –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ï—Å–ª–∏ –≤–∞–∂–µ–Ω –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Ä–∞–∑–º–µ—â–∞–π—Ç–µ middleware –≤ –Ω—É–∂–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—è**: middleware –º–æ–∂–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–¥ –µ–≥–æ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ —Ä–µ–¥—é—Å–µ—Ä.
**–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ middleware –º–æ–≥—É—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–≥–æ –¥–∞–ª—å—à–µ.

---

### üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Middleware:

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ middleware:**

```js
const middleware = (store) => (next) => (action) => {
  // –õ–æ–≥–∏–∫–∞ –¥–æ –ø–µ—Ä–µ–¥–∞—á–∏ –≤ reducer
  console.log('Action:', action);
  
  // –ü–µ—Ä–µ–¥–∞—á–∞ action –¥–∞–ª—å—à–µ
  const result = next(action);
  
  // –õ–æ–≥–∏–∫–∞ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ reducer
  console.log('New state:', store.getState());
  
  return result;
};
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `store` ‚Äî –æ–±—ä–µ–∫—Ç Store —Å –º–µ—Ç–æ–¥–∞–º–∏ `dispatch` –∏ `getState`
- `next` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ Action —Å–ª–µ–¥—É—é—â–µ–º—É middleware, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º middleware, —Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ reducer
- `action` ‚Äî —Ç–µ–∫—É—â–∏–π Action

---

### üì¶ Redux Thunk

**Redux Thunk** ‚Äî —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π middleware –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π. –ü–æ–∑–≤–æ–ª—è–µ—Ç dispatch —Ñ—É–Ω–∫—Ü–∏–π –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–æ–≤.

–ß—Ç–æ —Ç–∞–∫–æ–µ Redux Thunk?
Redux Thunk –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —ç–∫—à–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫:
- –í—ã–∑–æ–≤—ã API
- –ó–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –¢–∞–π–º–µ—Ä—ã –∏ –∑–∞–¥–µ—Ä–∂–∫–∏

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç, –¥–µ–π—Å—Ç–≤–∏–µ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç <code>dispatch</code> –∏ <code>getState</code> –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```js
const store = createStore(
  rootReducer,
  applyMiddleware(thunk)
);

// –ò–ª–∏ —Å Redux Toolkit (–≤–∫–ª—é—á—ë–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
import { configureStore } from '@reduxjs/toolkit';
const store = configureStore({
  reducer: rootReducer,
  // thunk —É–∂–µ –≤–∫–ª—é—á—ë–Ω
});
```

---

### üöÄ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ Action Creators —Å Thunk:

**Thunk** ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é (–≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–∞ Action). Thunk-—Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç `dispatch` –∏ `getState` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –æ–±—ã—á–Ω—ã–º Action Creator –∏ Thunk:**

- **–û–±—ã—á–Ω—ã–π Action Creator** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Action (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
- **Thunk Action Creator** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```js
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Action Creator
const addTodo = (text) => ({ type: 'ADD_TODO', payload: text });

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Thunk
const fetchTodos = () => {
  return async (dispatch, getState) => {
    dispatch({ type: 'FETCH_TODOS_START' });
    const data = await fetch('/api/todos');
    dispatch({ type: 'FETCH_TODOS_SUCCESS', payload: data });
  };
};
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `dispatch(fetchTodos())` Thunk –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ Action —Ñ—É–Ω–∫—Ü–∏–µ–π. –ï—Å–ª–∏ –¥–∞, —Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ—ë, –ø–µ—Ä–µ–¥–∞–≤–∞—è `dispatch` –∏ `getState`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å API-–∑–∞–ø—Ä–æ—Å—ã –∏ –∑–∞—Ç–µ–º dispatch –æ–±—ã—á–Ω—ã—Ö Actions —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

---

### üìù –¢–∏–ø–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–∞–±–æ—Ç—ã —Å Thunk:

**–û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç—Ä–∏ —Ç–∏–ø–∞ Actions –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:**
1. **START** ‚Äî –Ω–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `loading: true`)
2. **SUCCESS** ‚Äî —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, `loading: false`)
3. **ERROR** ‚Äî –æ—à–∏–±–∫–∞ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—à–∏–±–∫—É, `loading: false`)

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```js
// Thunk –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∏ Actions –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
const fetchUser = (userId) => async (dispatch) => {
  dispatch({ type: 'FETCH_USER_START' });
  try {
    const user = await api.getUser(userId);
    dispatch({ type: 'FETCH_USER_SUCCESS', payload: user });
  } catch (error) {
    dispatch({ type: 'FETCH_USER_ERROR', payload: error.message });
  }
};
```

**Reducer –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–∏ —Å–ª—É—á–∞—è**, –æ–±–Ω–æ–≤–ª—è—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ (loading, data, error).

---

### üéØ Redux Toolkit (createAsyncThunk):

**Redux Toolkit** —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ —á–µ—Ä–µ–∑ `createAsyncThunk`. –í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä—ë—Ö Actions (START, SUCCESS, ERROR), `createAsyncThunk` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è: `pending`, `fulfilled`, `rejected`.

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `createAsyncThunk` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è Actions –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç—Ä–∏ Actions: `pending`, `fulfilled`, `rejected`
- –í `extraReducers` –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ —Ç—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```js
const fetchUser = createAsyncThunk('user/fetchUser', async (userId) => {
  const response = await fetch(`/api/users/${userId}`);
  return response.json();
});

// –í slice –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ Actions
extraReducers: (builder) => {
  builder
    .addCase(fetchUser.pending, (state) => { state.loading = true; })
    .addCase(fetchUser.fulfilled, (state, action) => { 
      state.loading = false; 
      state.data = action.payload; 
    });
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ú–µ–Ω—å—à–µ boilerplate –∫–æ–¥–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏, —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `rejectWithValue`.

---

### üîÑ –î—Ä—É–≥–∏–µ Middleware:

#### **1. Redux Saga**

**Redux Saga** ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Thunk –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã JavaScript –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

**–û—Ç–ª–∏—á–∏—è –æ—Ç Thunk:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã (`function*`) –∏ `yield` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º
- –ë–æ–ª–µ–µ –º–æ—â–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: –æ—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, debounce/throttle
- –°–ª–æ–∂–Ω–µ–µ –≤ –∏–∑—É—á–µ–Ω–∏–∏, –Ω–æ –ª—É—á—à–µ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- –ù—É–∂–Ω–∞ –æ—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, debounce, throttle
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–µ–π

**–ü—Ä–∏–º–µ—Ä:** Saga –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã (`call`, `put`, `takeEvery`) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –ø–æ—Ç–æ–∫–æ–º.

---

#### **2. Redux Logger**

**Redux Logger** ‚Äî middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö Actions –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏. –ü–æ–ª–µ–∑–µ–Ω –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –õ–æ–≥–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π Action –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É (diff) –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `applyMiddleware(logger)` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ Actions –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è. –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ development —Ä–µ–∂–∏–º–µ.

---

### ‚ö†Ô∏è –ß—Ç–æ –Ω–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å –≤ Reducer:

**Reducer –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π**, –ø–æ—ç—Ç–æ–º—É –Ω–µ–ª—å–∑—è:

- ‚ùå **API-–∑–∞–ø—Ä–æ—Å—ã** ‚Äî —ç—Ç–æ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –Ω–∞—Ä—É—à–∞—é—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å
- ‚ùå **–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** ‚Äî `console.log`, `localStorage`, —Ä–∞–±–æ—Ç–∞ —Å DOM
- ‚ùå **–ú—É—Ç–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è** ‚Äî `state.todos.push(...)` –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
- ‚ùå **–í—ã–∑–æ–≤—ã –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏**

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:** –í—Å–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ Thunk –∏–ª–∏ –¥—Ä—É–≥–∏—Ö middleware, –∞ –∑–∞—Ç–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–π Action –≤ Reducer.

---

### üí° –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è:

**Middleware** ‚Äî —ç—Ç–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª–æ–π –º–µ–∂–¥—É dispatch –∏ reducer, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏. **Redux Thunk** ‚Äî —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π middleware, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç dispatch —Ñ—É–Ω–∫—Ü–∏–π –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–æ–≤. Thunk-—Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç `dispatch` –∏ `getState` –∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (API-–∑–∞–ø—Ä–æ—Å—ã) –∏ –∑–∞—Ç–µ–º dispatch –æ–±—ã—á–Ω—ã—Ö Actions. Redux Toolkit —É–ø—Ä–æ—â–∞–µ—Ç —ç—Ç–æ —á–µ—Ä–µ–∑ `createAsyncThunk`.

---

### üîç –¢–∏–ø–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏:

**Q: –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å API-–∑–∞–ø—Ä–æ—Å—ã –≤ Reducer?**
A: Reducer –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤. API-–∑–∞–ø—Ä–æ—Å—ã ‚Äî —ç—Ç–æ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ä—É—à–∞—é—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å. –ò—Ö –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ middleware (–Ω–∞–ø—Ä–∏–º–µ—Ä, Redux Thunk).

**Q: –ß—Ç–æ —Ç–∞–∫–æ–µ Redux Thunk?**
A: Redux Thunk ‚Äî —ç—Ç–æ middleware, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç dispatch —Ñ—É–Ω–∫—Ü–∏–π –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–æ–≤. Thunk-—Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç `dispatch` –∏ `getState` –∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π Actions.

**Q: –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –æ–±—ã—á–Ω—ã–º Action Creator –∏ Thunk?**
A: –û–±—ã—á–Ω—ã–π Action Creator –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Action. Thunk –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç `dispatch` –∏ `getState` –∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ dispatch Actions.

**Q: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç middleware –≤ Redux?**
A: Middleware ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `(store) => (next) => (action) => {...}`, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç Actions –º–µ–∂–¥—É dispatch –∏ reducer. –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–æ –∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ Action.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ middleware?**
A: –î–∞, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ middleware —á–µ—Ä–µ–∑ `applyMiddleware(thunk, logger, ...)`. –û–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω—ã.

**Q: –ß—Ç–æ —Ç–∞–∫–æ–µ `createAsyncThunk`?**
A: –≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ Redux Toolkit, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö Actions. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∏ Actions: `pending`, `fulfilled`, `rejected`, —á—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç boilerplate –∫–æ–¥.

**Q: –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Redux Thunk –∏ Redux Saga?**
A: Thunk –ø—Ä–æ—â–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. Saga –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–æ—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Å–ª–æ–∂–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫–∞). Thunk –ø—Ä–æ—â–µ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å async/await –≤ Thunk?**
A: –î–∞, Thunk-—Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å async. –≠—Ç–æ —Å–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –≤ Redux.

**Q: –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ Thunk?**
A: –ò—Å–ø–æ–ª—å–∑—É—è try/catch –≤ Thunk-—Ñ—É–Ω–∫—Ü–∏–∏ –∏ dispatch Action —Å –æ—à–∏–±–∫–æ–π. Redux Toolkit —É–ø—Ä–æ—â–∞–µ—Ç —ç—Ç–æ —á–µ—Ä–µ–∑ `rejectWithValue` –≤ `createAsyncThunk`.

**Q: –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ dispatch –æ–±—ã—á–Ω—ã–π Action (–æ–±—ä–µ–∫—Ç) –≤ Thunk?**
A: Thunk –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ Action —Ñ—É–Ω–∫—Ü–∏–µ–π. –ï—Å–ª–∏ —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –æ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –¥–∞–ª—å—à–µ –≤ reducer –∫–∞–∫ –æ–±—ã—á–Ω–æ. –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ Thunk.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getState` –≤ Thunk?**
A: –î–∞, Thunk-—Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç `getState` –∫–∞–∫ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä. –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ª–æ–≥–∏–∫–∏: `const state = getState()`.

**Q: –ö–∞–∫ –æ—Ç–º–µ–Ω–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ Redux?**
A: –í Thunk –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AbortController. –í Saga —ç—Ç–æ –ø—Ä–æ—â–µ —á–µ—Ä–µ–∑ `cancel()` —ç—Ñ—Ñ–µ–∫—Ç. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–ª–∞–≥ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–µ—Ä–µ–¥ dispatch —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

**Q: –ó–∞—á–µ–º –Ω—É–∂–µ–Ω middleware –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π?**
A: Redux —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. Middleware –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç Actions –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (API-–∑–∞–ø—Ä–æ—Å), –∞ –∑–∞—Ç–µ–º dispatch —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π Action.

**Q: –ß—Ç–æ —Ç–∞–∫–æ–µ "thunk" –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏?**
A: Thunk ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è. –í Redux —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏.
