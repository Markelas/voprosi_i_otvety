## üîó –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã - fetchSequential(urls)

### –ó–∞–¥–∞—á–∞

–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `fetchSequential(urls)`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç fetch-–∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º, –Ω–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ). –ö–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ. –§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

---

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

–ö–æ–≥–¥–∞ –∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ (—Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –ø–æ—Ç–æ–º –µ–≥–æ –∑–∞–∫–∞–∑—ã ‚Üí –ø–æ—Ç–æ–º –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞). –ò–ª–∏ –∫–æ–≥–¥–∞ API –∏–º–µ–µ—Ç —Å—Ç—Ä–æ–≥–∏–π rate limit.

---

### –†–µ—à–µ–Ω–∏–µ 1: –° —Ü–∏–∫–ª–æ–º for...of

```js
async function fetchSequential(urls) {
    const results = [];
    
    for (const url of urls) {
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        results.push(data);
    }
    
    return results;
}
```

---

### –†–µ—à–µ–Ω–∏–µ 2: –° reduce

```js
async function fetchSequential(urls) {
    return urls.reduce(async (accPromise, url) => {
        const acc = await accPromise;
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        return [...acc, data];
    }, Promise.resolve([]));
}
```

---

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```js
const urls = [
    'https://api.example.com/step1',
    'https://api.example.com/step2',
    'https://api.example.com/step3'
];

const results = await fetchSequential(urls);
console.log(results); // [result1, result2, result3]
```

---

### –ü—Ä–∏–º–µ—Ä —Å –∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏:

```js
async function fetchUserData(userId) {
    // –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const user = await fetch(`/api/users/${userId}`).then(r => r.json());
    
    // –ü–æ—Ç–æ–º –µ–≥–æ –∑–∞–∫–∞–∑—ã (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç user.id)
    const orders = await fetch(`/api/users/${user.id}/orders`).then(r => r.json());
    
    // –ü–æ—Ç–æ–º –¥–µ—Ç–∞–ª–∏ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç orders[0].id)
    const orderDetails = await fetch(`/api/orders/${orders[0].id}`).then(r => r.json());
    
    return { user, orders, orderDetails };
}
```

---

### –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

1. **for...of —Å await:** –ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –∂–¥—ë—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π
2. **–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** –ó–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ –∏ URL

---

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∂–¥—ë—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤, –∑–∞–≤–∏—Å—è—â–∏—Ö –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- **Rate limiting:** –ü–æ–º–æ–≥–∞–µ—Ç —Å–æ–±–ª—é–¥–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ

---

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º:

```js
// –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ) - ~6 —Å–µ–∫—É–Ω–¥
const results = await fetchSequential([url1, url2, url3]);

// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–±—ã—Å—Ç—Ä–æ, –Ω–æ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å API) - ~2 —Å–µ–∫—É–Ω–¥—ã
const results = await Promise.all([...]);
```

