## üéØ –ó–∞–¥–∞—á–∏ –Ω–∞ `this`

---

### üìä –¢–∞–±–ª–∏—Ü–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è `this`:

| –í—ã–∑–æ–≤ | –ß—Ç–æ –±—É–¥–µ—Ç –≤ `this` | –ü—Ä–∏–º–µ—Ä |
|-------|-------------------|--------|
| –û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è | `undefined` / `window` | `f()` |
| –ú–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞ | –°–∞–º –æ–±—ä–µ–∫—Ç | `obj.f()` |
| –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (`new`) | –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç | `new F()` |
| `call` / `apply` / `bind` | –ü–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç | `f.call(ctx)` |
| –°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è | –í–Ω–µ—à–Ω–∏–π `this` | `() => this.x` |
| –ü–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–∏ | `undefined` / `window` | `const fn = obj.f; fn()` |
| –í–Ω—É—Ç—Ä–∏ `setTimeout` –±–µ–∑ —Å—Ç—Ä–µ–ª–∫–∏ | `undefined` / `window` | `setTimeout(function(){...})` |

---

### –ó–∞–¥–∞—á–∞ 1: –û–±—ã—á–Ω–∞—è vs —Å—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

```js
const obj = {
  name: 'Object',
  regular: function() {
    console.log(this.name); // this = obj
  },
  arrow: () => {
    console.log(this.name); // this = –≤–Ω–µ—à–Ω—è—è –æ–±–ª–∞—Å—Ç—å
  }
};

obj.regular(); // "Object"
obj.arrow();   // undefined
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –∏–º–µ—é—Ç —Å–≤–æ–µ–≥–æ `this` ‚Äî –æ–Ω–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `this` –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

### –ó–∞–¥–∞—á–∞ 2: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```js
function f() {
  this.x = 5;
  console.log(this); // {x: 5}
}

var o = new f();
console.log(o.x); // 5
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –° `new` —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç `{}`, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º `f`, –∏ –≤–Ω—É—Ç—Ä–∏ `this` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å—Å—ã–ª–∫–æ–π –Ω–∞ —ç—Ç–æ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.

---

### –ó–∞–¥–∞—á–∞ 3: –ú–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞

```js
var o = {
  f: function() {
    return this;
  }
};

console.log(o.f()); // –í–µ—Ä–Ω–µ—Ç –æ–±—ä–µ–∫—Ç {f: [Function]}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É `this` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç —Å–ª–µ–≤–∞ –æ—Ç —Ç–æ—á–∫–∏.

---

### –ó–∞–¥–∞—á–∞ 4: –°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞

```js
var o = {
  f: function() {
    return () => this;
  }
};

console.log(o.f()()); // –í–µ—Ä–Ω–µ—Ç –æ–±—ä–µ–∫—Ç {f: [Function]}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –≤—ã—à–µ `f: function()`, —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π —Ä–æ–¥–∏—Ç–µ–ª—å (`o`).

---

### –ó–∞–¥–∞—á–∞ 5: –ü–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```js
let obj = {
  name: 'Alice',
  sayHi() {
    console.log(this.name);
  },
};

let fn = obj.sayHi;
fn(); // undefined, —Ç–∞–∫ –∫–∞–∫ –Ω–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `fn` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –±–µ–∑ –æ–±—ä–µ–∫—Ç–∞. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `fn()` –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ—Ä—è–µ—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:**

```js
let fn = obj.sayHi.bind(obj);
fn(); // Alice
```

---

### –ó–∞–¥–∞—á–∞ 6: setTimeout

```js
// –° –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π
const user1 = {
  name: "Alice",
  sayHi: function() {
    setTimeout(function() {
      console.log(`–ü—Ä–∏–≤–µ—Ç, ${this.name}`); // this –ù–ï –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ user1
    }, 1000); // –ë—É–¥–µ—Ç '–ü—Ä–∏–≤–µ—Ç,'
  }
};

// –°–æ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π
const user2 = {
  name: "Alice",
  sayHi: function() {
    setTimeout(() => {
      console.log(`–ü—Ä–∏–≤–µ—Ç, ${this.name}`); // this –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ user2
    }, 1000); // –ë—É–¥–µ—Ç '–ü—Ä–∏–≤–µ—Ç, Alice'
  }
};
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –í –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `this` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞ (–≤ `setTimeout` —Ç–µ—Ä—è–µ—Ç—Å—è —Å–≤—è–∑—å). –í —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `this` –±–µ—Ä—ë—Ç—Å—è –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
