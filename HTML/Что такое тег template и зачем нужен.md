# Тег `<template>`

## Краткий ответ для собеседования

**`<template>`** — HTML5-элемент для хранения разметки, которая **не отображается** и **не выполняется** при загрузке страницы. Содержимое живёт в «инертном» фрагменте документа: картинки не грузятся, скрипты не запускаются, стили не применяются. Нужен, чтобы хранить шаблоны разметки и клонировать их в DOM по требованию через JavaScript (`content.cloneNode(true)`). Удобен для повторяющихся блоков (списки, карточки, модалки), рендера по данным и шаблонов без лишних запросов. Альтернативы: скрытый `<div>`, строки в JS, шаблонизаторы на сервере.

---

## Что такое `<template>`

**`<template>`** — семантический контейнер для **шаблонной разметки**, которую браузер не показывает и не обрабатывает при загрузке страницы.

- Содержимое тега **не отображается** в документе.
- Содержимое **инертное**: изображения не загружаются, `<script>` не выполняется, `<style>` не применяется к странице (стили внутри template не «вытекают» наружу).
- Разметка хранится в **DocumentFragment** (свойство `content` у элемента `<template>`). Её можно клонировать и вставлять в DOM когда нужно.

Простыми словами: это «заготовка» HTML, которая лежит в документе, но не участвует в отрисовке и загрузке ресурсов до тех пор, пока вы не вставите её в DOM через JS.

---

## Зачем нужен

### 1. Хранить разметку, которая не должна сразу отображаться

Без `<template>` часто делают так: прячут блок в `<div style="display: none">` или через CSS. Тогда всё содержимое (картинки, скрипты) всё равно парсится и может загружаться/выполняться. В `<template>` содержимое **инертное** — браузер не обрабатывает его как обычный HTML до клонирования.

### 2. Шаблоны для повторяющихся блоков

Один раз описать разметку карточки, строки таблицы, пункта списка — и по данным клонировать шаблон, подставлять значения и вставлять в DOM. Удобно для списков, сеток, динамического контента без тяжёлых фреймворков.

### 3. Один фрагмент — много вставок

Один и тот же шаблон можно клонировать много раз и вставлять в разные места. Не нужно дублировать разметку в HTML или собирать её строками в JS.

### 4. Валидная разметка

Внутри `<template>` можно писать разметку, которая «сама по себе» невалидна в том месте, где лежит template (например, несколько корневых элементов, или `<tr>` без `<table>`). Браузер воспринимает содержимое как фрагмент, а не как часть основного дерева документа.

---

## Как работает

- В DOM есть элемент `<template>`; его **видимое** содержимое для страницы пустое.
- Реальная разметка хранится в **DocumentFragment** — свойство `templateElement.content`.
- Чтобы использовать шаблон: клонировать фрагмент — `templateElement.content.cloneNode(true)` — и вставить полученный узел в нужное место (например, `container.append(clone)`).
- После вставки клонированная разметка ведёт себя как обычный HTML: подгружаются картинки, выполняются скрипты (если есть), применяются стили.

Кратко: **до клонирования** — инертный шаблон; **после вставки клона в DOM** — обычная разметка.

---

## Особенности поведения

| Аспект | Поведение |
|--------|-----------|
| **Отображение** | Содержимое не показывается на странице |
| **Ресурсы (img, iframe и т.д.)** | Не загружаются, пока фрагмент не вставлен в DOM |
| **Скрипты** | Не выполняются до вставки клона в DOM |
| **Стили** | Стили внутри template не влияют на страницу до вставки |
| **DOM** | Содержимое в `document` не участвует в основном дереве; оно в отдельном DocumentFragment (`content`) |
| **Валидность** | Внутри можно писать «нестандартную» для этого места разметку (например, только `<tr>`) |

---

## Когда использовать

**Подходит для:**
- Повторяющиеся блоки по данным (списки, карточки, строки таблиц).
- Разметка, которая нужна только после действия пользователя (модалки, тултипы, выпадающие блоки).
- Простые шаблоны без тяжёлого фреймворка (или в связке с фреймворком, если он умеет работать с `<template>`).

**Можно обойтись без:**
- Когда весь контент рендерится на сервере или фреймворком (React, Vue и т.д.) — там свои механизмы шаблонов.
- Когда шаблон один раз и не клонируется — иногда достаточно скрытого блока, но `<template>` даёт инертность и семантику.

---

## Вопросы на собеседовании

| Вопрос | Краткий ответ |
|--------|----------------|
| Что такое тег `<template>`? | Контейнер для шаблонной разметки, которая не отображается и не обрабатывается при загрузке; содержимое инертное. |
| Зачем нужен `<template>`? | Хранить шаблоны разметки и клонировать их в DOM по требованию через JS; не грузить ресурсы и не выполнять скрипты до вставки. |
| Чем содержимое `<template>` отличается от обычного HTML? | Оно не показывается, не загружает ресурсы (img и т.д.), не выполняет скрипты, не применяет стили к странице до вставки клона в DOM. |
| Как использовать шаблон из `<template>`? | Взять `templateElement.content`, клонировать (`cloneNode(true)`), вставить клон в нужное место в DOM. |
| Что такое «инертное» содержимое? | Разметка есть в документе, но браузер не обрабатывает её как обычный HTML: не рендерит, не загружает связанные ресурсы, не выполняет скрипты. |

---

## Кратко для ответа

**`<template>`** — тег для хранения шаблонной разметки, которая не отображается и не обрабатывается при загрузке (инертное содержимое в DocumentFragment). Нужен, чтобы хранить шаблоны и клонировать их в DOM по требованию через JavaScript; до вставки клона картинки не грузятся, скрипты не выполняются. Удобен для повторяющихся блоков и динамического контента без фреймворка.
