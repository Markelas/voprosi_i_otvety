# Тег \<img\>: alt, lazy loading и CLS

## Краткий ответ для собеседования

**\<img src="..." alt="...">** — вставка изображения. **alt** обязателен для доступности и когда картинка не загрузилась: скринридер зачитывает alt, браузер показывает его вместо изображения при ошибке. **loading="lazy"** — отложенная загрузка при приближении к viewport (экономия трафика и ускорение первой отрисовки). **width** и **height** в HTML резервируют место до загрузки картинки — иначе браузер не знает размер и при появлении изображения страница «прыгает» (**CLS** — Cumulative Layout Shift). На собеседовании могут спросить: зачем **alt**, что такое **lazy loading**, как уменьшить CLS для картинок, зачем указывать width/height.

---

## alt (альтернативный текст)

- **alt** описывает содержание изображения для скринридеров и отображается, если картинка не загрузилась или отключена.
- Декоративные картинки: **alt=""** (пустой), чтобы скринридер не зачитывал имя файла.
- Смысловые картинки: короткое описание того, что на изображении (не «картинка», а «график роста продаж за 2024 год»).

Без alt доступность страницы хуже; в валидаторе HTML это ошибка для img.

---

## loading="lazy"

- **loading="lazy"** — браузер откладывает загрузку изображения до момента, когда оно приближается к зоне видимости (viewport). Первый экран грузится быстрее, трафик экономится.
- **loading="eager"** (по умолчанию) — загрузка сразу.
- Lazy не обязателен для изображений выше сгиба (их и так нужно показать быстро). Подходит для длинных страниц и картинок ниже первого экрана.

---

## Width, height и CLS (Cumulative Layout Shift)

Пока изображение не загружено, браузер не знает его размеров. Если **width** и **height** не заданы, место под картинку не резервируется; после загрузки контент под ней «прыгает» вниз — это **layout shift**. Такие сдвиги суммируются в метрике **CLS** (Core Web Vitals); высокий CLS ухудшает UX и оценку в поиске.

Указание **width** и **height** в атрибутах (или в CSS с сохранением соотношения сторон) резервирует место до загрузки — сдвига нет, CLS ниже. В адаптиве часто задают только одну сторону (например, width: 100%) и используют **aspect-ratio** в CSS или размеры в HTML, чтобы браузер вычислил высоту.

---

## Другие атрибуты

- **decoding="async"** — подсказка браузеру декодировать изображение асинхронно, не блокируя отрисовку.
- **fetchpriority="high"** — для важных изображений (например, LCP) подсказать приоритет загрузки.
- **srcset** и **sizes** — для адаптивных изображений (разные разрешения и размеры под разную ширину экрана).

---

## Вопросы на собеседовании

| Вопрос | Краткий ответ |
|--------|----------------|
| Зачем атрибут alt у img? | Доступность (скринридеры) и запасной текст при ошибке загрузки; у декоративных — alt="". |
| Что такое lazy loading у img? | loading="lazy" — загрузка откладывается до приближения к viewport; быстрее первая отрисовка, меньше трафика. |
| Что такое CLS и как img на него влияет? | Cumulative Layout Shift — «прыжки» контента; без width/height у img место не резервируется и после загрузки происходит сдвиг. |
| Зачем указывать width и height у img? | Чтобы зарезервировать место до загрузки и избежать сдвига макета (улучшение CLS). |
| Когда использовать loading="lazy"? | Для изображений ниже первого экрана; выше сгиба лучше загружать сразу (eager). |

---

## Кратко для ответа

**alt** обязателен: описание для доступности и при ошибке загрузки; декоративные — alt="". **loading="lazy"** откладывает загрузку до появления в viewport. **width** и **height** резервируют место под картинку и снижают **CLS** (нет сдвига после загрузки). Для важных изображений можно использовать fetchpriority="high".
