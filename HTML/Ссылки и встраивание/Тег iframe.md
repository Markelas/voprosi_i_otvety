# Тег \<iframe\>

## Краткий ответ для собеседования

**\<iframe\>** встраивает другую HTML-страницу (или документ) внутрь текущей. Атрибуты: **src** (URL страницы), **sandbox** (ограничение возможностей встроенной страницы — скрипты, формы, popup), **allow** (разрешения: камера, микрофон, полноэкранный режим и т.д.). На собеседовании часто спрашивают про **безопасность**: встроенная страница может пытаться изменить родительское окно (если same origin) или украсть данные; **sandbox** ограничивает выполнение скриптов и отправку форм; при встраивании чужого контента используют sandbox без разрешений. **Clickjacking** — атака, когда невидимый iframe перехватывает клики; защита: заголовок **X-Frame-Options** или **Content-Security-Policy: frame-ancestors** на стороне встраиваемой страницы.

---

## Что такое iframe

**iframe** (inline frame) — элемент, который показывает **другую страницу** в прямоугольной области внутри текущей. Используют для карт, виджетов, встраивания видео (YouTube), документов или чужого контента с другого домена.

Атрибуты: **src**, **width / height**, **title**, **sandbox**, **allow**, **loading="lazy"**.

---

## Безопасность: sandbox

Без **sandbox** встроенная страница может запускать скрипты, отправлять формы, открывать popup. **sandbox** по умолчанию отключает всё это и блокирует доступ к родителю. Разрешения дают по необходимости (allow-scripts, allow-forms и т.д.). Для встраивания ненадёжного контента лучше sandbox без флагов или с минимумом.

**На собеседовании:** «sandbox ограничивает возможности встроенной страницы — скрипты, формы, popup; для чужого контента используют sandbox без лишних разрешений.»

---

## Clickjacking и защита

**Clickjacking** — когда поверх кнопки кладут невидимый iframe с другой страницей; пользователь кликает по чужой форме. Защита на стороне **встраиваемой** страницы: **X-Frame-Options: DENY/SAMEORIGIN** или **CSP frame-ancestors**.

---

## Same-origin и доступ к iframe

Если iframe с **другого домена** (cross-origin), родитель не может читать DOM iframe; связь через **postMessage**. Если iframe **same-origin**, родитель может обращаться к `iframe.contentWindow`, `iframe.contentDocument` (если не sandbox без allow-same-origin).

---

## Вопросы на собеседовании

| Вопрос | Краткий ответ |
|--------|----------------|
| Для чего нужен iframe? | Встроить другую HTML-страницу в текущую (карты, виджеты, видео, чужой контент). |
| Что такое sandbox у iframe? | Ограничение возможностей встроенной страницы: скрипты, формы, popup отключены, пока не разрешены явно. |
| Зачем sandbox при встраивании чужого контента? | Чтобы встроенная страница не могла выполнять опасные действия и не имела доступа к родителю. |
| Что такое clickjacking? | Атака, когда невидимый iframe перехватывает клики пользователя. |
| Как защититься от встраивания своей страницы в iframe? | X-Frame-Options: DENY/SAMEORIGIN или CSP frame-ancestors на своей странице. |
| Может ли родитель читать DOM iframe с другого домена? | Нет, Same-Origin Policy запрещает; обмен данными — через postMessage. |

---

## Кратко для ответа

**iframe** встраивает другую страницу. **sandbox** ограничивает скрипты, формы, popup во встроенной странице — важно для безопасности при чужом контенте. **Clickjacking** — подмена клика через невидимый iframe; защита: X-Frame-Options или CSP frame-ancestors на встраиваемой странице. Cross-origin iframe недоступен из JS родителя; связь через postMessage.
