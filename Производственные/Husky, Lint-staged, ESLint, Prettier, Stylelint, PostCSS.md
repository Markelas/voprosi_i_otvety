# Husky, Lint-staged, ESLint, Prettier, Stylelint, PostCSS

## Краткий ответ для собеседования

**Husky** — хуки для Git: запускает скрипты при коммите, пуше и т.д., чтобы не допустить «грязный» код в репозиторий. **Lint-staged** — запускает линтеры и форматтеры только по **изменённым** файлам (staged), а не по всему проекту; обычно вызывается из Husky при pre-commit. **ESLint** — линтер для JavaScript/TypeScript: находит ошибки, плохие практики и нарушения правил; настраивается правилами и плагинами. **Prettier** — форматтер кода: приводит стиль к единому виду (отступы, кавычки, переносы строк); не проверяет логику. **Stylelint** — линтер для CSS (и препроцессоров): находит ошибки и нарушения правил в стилях. **PostCSS** — платформа для преобразования CSS: плагины делают автопрефикс, минификацию, переменные и т.д. В связке: Husky при коммите вызывает Lint-staged → Lint-staged запускает ESLint, Prettier, Stylelint только по staged-файлам; PostCSS используется в сборке для обработки CSS.

---

## Husky

### Что это

**Husky** — инструмент для подключения **Git-хуков** в проекте. Хуки — это скрипты, которые Git запускает в определённые моменты (например, перед коммитом, перед пушем). Husky хранит эти скрипты в репозитории и гарантирует, что они выполняются у всех разработчиков после `npm install`.

### Зачем

Чтобы **не допустить в репозиторий** то, что не должно туда попадать: неотформатированный код, код с ошибками линтера, сломанные тесты. Например, при `git commit` запускается pre-commit хук: если в нём вызваны ESLint и Prettier и они падают или меняют файлы, коммит можно отменить. Так в ветку попадает только код, прошедший проверки.

**На собеседовании:** Husky — это способ запускать проверки (линт, формат, тесты) автоматически при коммите или пуше, чтобы поддерживать качество и единый стиль кода в команде.

---

## Lint-staged

### Что это

**Lint-staged** — инструмент, который запускает заданные команды (линтеры, форматтеры) **только для файлов, попавших в staging** (тех, что добавлены в коммит через `git add`). Не проверяет весь проект, а только то, что меняется в текущем коммите.

### Зачем

Проверка всего проекта при каждом коммите может быть долгой; плюс править нужно только то, что ты меняешь. Lint-staged даёт быстрый цикл: проверил и отформатировал только свои файлы, зафиксировал — и коммит. Обычно настраивают так: Husky при pre-commit вызывает Lint-staged, а Lint-staged запускает ESLint, Prettier, Stylelint только по staged-файлам.

**На собеседовании:** Lint-staged нужен, чтобы не гонять линтеры по всему проекту, а проверять и форматировать только файлы из текущего коммита — быстрее и логичнее.

---

## ESLint

### Что это

**ESLint** — линтер для **JavaScript и TypeScript**: анализирует код и сообщает о нарушениях правил — потенциальных ошибках, плохих практиках, несоответствии принятым в проекте правилам. Правила включаются/выключаются в конфиге; есть плагины для React, Vue, TypeScript, импортов и т.д.

### Зачем

Чтобы **ловить ошибки и плохие практики до рантайма**: неиспользуемые переменные, опечатки в свойствах, неверное использование API, нарушение правил доступности и т.д. Плюс единый стиль правил в команде: все видят одни и те же замечания. Часто используется вместе с Prettier: ESLint — за логику и правила кода, Prettier — за внешний вид (пробелы, кавычки).

**На собеседовании:** ESLint — линтер для JS/TS: находит ошибки и нарушения правил; настраивается правилами и плагинами; нужен для качества и единообразия кода.

---

## Prettier

### Что это

**Prettier** — **форматтер кода**: автоматически приводит код к единому стилю — отступы, кавычки, точка с запятой, переносы строк, длина строки. Поддерживает JavaScript, TypeScript, JSON, HTML, CSS, Markdown и др. Не анализирует логику, только формат.

### Зачем

Чтобы **не спорить о стиле** в команде и не тратить время на ручное выравнивание. Включил Prettier — код везде выглядит одинаково. Часто запускают до коммита (через Lint-staged): изменённые файлы автоматически форматируются. С ESLint используют вместе: часть правил ESLint, связанных со стилем, отключают, чтобы не дублировать Prettier.

**На собеседовании:** Prettier — форматтер: единый стиль кода (отступы, кавычки, переносы); не проверяет логику; обычно используется вместе с ESLint (ESLint — правила, Prettier — внешний вид).

---

## Stylelint

### Что это

**Stylelint** — линтер для **CSS** (и препроцессоров вроде SCSS, Less): находит ошибки в стилях, дублирование, неиспользуемые правила, нарушения порядка свойств, неверные значения и т.д. Настраивается правилами и плагинами.

### Зачем

Чтобы **поддерживать качество стилей**: ловить опечатки в свойствах, устаревшие вендорные префиксы, противоречивые правила, нарушения принятых в проекте конвенций. Для CSS/SCSS — аналог ESLint для JS. Можно запускать по staged-файлам через Lint-staged вместе с ESLint и Prettier.

**На собеседовании:** Stylelint — линтер для CSS (и препроцессоров): ошибки и нарушения правил в стилях; нужен для единообразия и качества CSS.

---

## PostCSS

### Что это

**PostCSS** — платформа для **обработки CSS**: запускает цепочку плагинов, которые преобразуют CSS. Сам по себе ничего не делает — всё делают плагины. Примеры плагинов: Autoprefixer (добавляет вендорные префиксы), cssnano (минификация), плагины для переменных, вложенности и т.д.

### Зачем

Чтобы **автоматизировать правки CSS** при сборке: добавить префиксы под старые браузеры, минифицировать, применить кастомный синтаксис. Не линтер и не форматтер в первую очередь — именно **трансформация** CSS. Часто встроен в сборщики (Webpack, Vite): после компиляции SCSS/Less PostCSS обрабатывает итоговый CSS.

**На собеседовании:** PostCSS — платформа для преобразования CSS плагинами (автопрефикс, минификация и т.д.); используется в сборке, а не для проверки стиля кода как Stylelint.

---

## Как связаны между собой

| Инструмент | Роль | Когда срабатывает |
|------------|------|-------------------|
| **Husky** | Запускает скрипты при событиях Git (commit, push) | При коммите, пуше и т.д. |
| **Lint-staged** | Запускает команды только по staged-файлам | Вызывается из Husky (чаще всего pre-commit) |
| **ESLint** | Проверка JS/TS на ошибки и правила | По команде или из Lint-staged |
| **Prettier** | Форматирование кода (стиль) | По команде или из Lint-staged |
| **Stylelint** | Проверка CSS на ошибки и правила | По команде или из Lint-staged |
| **PostCSS** | Трансформация CSS при сборке (префиксы, минификация) | В процессе сборки (Webpack, Vite и т.д.) |

**Типичная связка:** при `git commit` срабатывает Husky → pre-commit запускает Lint-staged → Lint-staged для staged-файлов запускает ESLint, Prettier, Stylelint. В CI дополнительно могут гонять ESLint/Prettier/Stylelint по всему проекту. PostCSS в этой цепочке не участвует — он часть сборки, а не коммита.

---

## Вопросы на собеседовании

| Вопрос | Краткий ответ |
|--------|----------------|
| Что такое Husky? | Инструмент для Git-хуков: запускает скрипты при коммите, пуше и т.д., чтобы не пускать в репозиторий код без проверок. |
| Что такое Lint-staged? | Запускает линтеры и форматтеры только по файлам из текущего коммита (staged); обычно вызывается из Husky при pre-commit. |
| Зачем Lint-staged, если есть ESLint? | Чтобы не проверять весь проект при каждом коммите, а только изменённые файлы — быстрее и логичнее. |
| Что такое ESLint? | Линтер для JavaScript/TypeScript: находит ошибки и нарушения правил; настраивается правилами и плагинами. |
| Что такое Prettier? | Форматтер кода: единый стиль (отступы, кавычки, переносы); не проверяет логику. |
| Чем ESLint отличается от Prettier? | ESLint — проверка правил и ошибок; Prettier — только форматирование внешнего вида кода. |
| Что такое Stylelint? | Линтер для CSS (и препроцессоров): ошибки и нарушения правил в стилях. |
| Что такое PostCSS? | Платформа для преобразования CSS плагинами (автопрефикс, минификация и т.д.); используется при сборке. |
| Чем Stylelint отличается от PostCSS? | Stylelint — проверка CSS на ошибки и правила (линт). PostCSS — трансформация CSS при сборке (префиксы, минификация). |

---

## Кратко для ответа

**Husky** — Git-хуки: при коммите/пуше запускаются проверки. **Lint-staged** — запускает проверки только по файлам из коммита; вызывается из Husky. **ESLint** — линтер для JS/TS: ошибки и правила. **Prettier** — форматтер: единый стиль кода. **Stylelint** — линтер для CSS: ошибки и правила в стилях. **PostCSS** — платформа для преобразования CSS при сборке (плагины: автопрефикс, минификация). Связка: Husky → Lint-staged → ESLint, Prettier, Stylelint по staged-файлам; PostCSS — в сборке, отдельно.
