# Sentry

## Краткий ответ для собеседования

**Sentry** — сервис мониторинга ошибок: автоматически собирает ошибки в приложении (в том числе на фронтенде), присылает stack trace, контекст (браузер, URL, пользователь) и уведомления. Зачем для фронтенда: видеть ошибки в продакшене у реальных пользователей, воспроизводить баги по контексту, отслеживать производительность. С [[Elasticsearch и Kibana]] связан так: Sentry — готовый продукт «под ключ» для ошибок; Elasticsearch + Kibana — хранилище и визуализация любых логов. Часто Sentry отправляет события в Elasticsearch, а в Kibana строят общие дашборды: и ошибки из Sentry, и свои логи, и метрики — всё в одном месте для поиска и анализа.

---

## Что такое Sentry

**Sentry** — облачный (или self-hosted) сервис для **мониторинга ошибок** в приложениях. Поддерживает фронтенд (JavaScript, React, Vue и т.д.), бэкенд (Node, Python, Go и т.д.) и мобильные приложения.

Смысл: приложение при ошибке **автоматически отправляет** в Sentry данные об ошибке: сообщение, stack trace (где упало), контекст (URL, браузер, пользователь, версия приложения). В веб-интерфейсе Sentry ты видишь список ошибок, группировку по типу, частоту, контекст по каждому событию — и получаешь уведомления (email, Slack и т.д.) при новых или повторяющихся ошибках.

Простыми словами: Sentry — это «ловец ошибок»: что упало у пользователя в браузере, то сразу попадает в твой дашборд с контекстом, без необходимости просить пользователя прислать скрин или описание.

---

## Зачем Sentry нужен для фронтенд-приложения

- **Видеть ошибки в продакшене** — у пользователей ошибки случаются на своих устройствах и в своих сценариях; без мониторинга ты о них не узнаешь. Sentry собирает их автоматически.
- **Воспроизводить баги** — по каждому событию есть stack trace (файл, строка), URL, браузер, ОС, при желании — user id и breadcrumbs (что пользователь делал перед ошибкой). Это сильно упрощает воспроизведение и исправление.
- **Не пропускать критические сбои** — можно настроить алерты: новая ошибка, рост частоты, ошибка в определённом месте кода. Реагируешь быстро, а не когда пользователи уже жалуются.
- **Отслеживать производительность** — Sentry умеет собирать метрики: время загрузки страницы, медленные запросы, время до интерактивности. Это дополняет картину: не только «что сломалось», но и «где тормозит».

Итого для собеседования: Sentry нужен фронтенду, чтобы **знать о реальных ошибках у пользователей**, иметь **контекст для отладки** и **реагировать по алертам**, плюс при необходимости — смотреть **производительность**.

---

## Как Sentry связан с Elasticsearch и Kibana

**Sentry** и **Elasticsearch + Kibana** решают смежные задачи, но по-разному:

- **Sentry** — готовый продукт именно под **ошибки**: сбор, группировка, контекст, алерты, дашборды по ошибкам. Подключаешь SDK в приложение — и ошибки начинают уходить в Sentry. Минимум своей инфраструктуры.
- **Elasticsearch** — хранилище и поисковый движок для **любых** логов и событий (ошибки, клики, запросы, метрики). **Kibana** — визуализация и поиск по этим данным. Гибко, но нужно самому настраивать сбор, отправку и индексы.

**Связь на практике:**

1. **Sentry как единственный инструмент** — только Sentry для ошибок; свои логи (события, аналитика) не пишут в Elasticsearch. Тогда Elasticsearch/Kibana не используются для ошибок.
2. **Sentry + Elasticsearch/Kibana вместе** — Sentry по-прежнему собирает ошибки и показывает их в своём интерфейсе. Дополнительно события из Sentry **отправляют в Elasticsearch** (через webhook, лог-шиппер или свой бэкенд). В **Kibana** тогда строят **общий дашборд**: и ошибки из Sentry, и свои логи (запросы, клики, метрики) — всё в одном месте. Удобно искать, например: «все ошибки + все запросы этого пользователя за последний час» или «ошибки по версии приложения + метрики производительности».
3. **Только Elasticsearch/Kibana без Sentry** — свои обработчики ошибок на фронте, отправка логов на бэкенд, бэкенд пишет в Elasticsearch. Тогда Kibana — единственное место для поиска и дашбордов. Гибко, но нужно самим реализовать сбор ошибок, stack trace и контекст так же качественно, как это делает Sentry.

Кратко для ответа: **Sentry** — специализированный сервис по ошибкам; **Elasticsearch + Kibana** — универсальное хранилище и визуализация логов. Они связаны тем, что события из Sentry часто **дублируют или дополняют** в Elasticsearch, а в Kibana делают **общую картину**: ошибки + свои логи + метрики в одном месте для поиска и анализа.

---

## Вопросы на собеседовании

| Вопрос | Краткий ответ |
|--------|----------------|
| Что такое Sentry? | Сервис мониторинга ошибок: автоматически собирает ошибки из приложения, даёт stack trace и контекст, уведомления и дашборды. |
| Зачем Sentry на фронтенде? | Видеть ошибки в продакшене у реальных пользователей, воспроизводить баги по контексту, получать алерты и при необходимости смотреть производительность. |
| Как Sentry связан с Elasticsearch и Kibana? | Sentry — готовый продукт для ошибок; Elasticsearch/Kibana — хранилище и визуализация любых логов. Часто события из Sentry отправляют в Elasticsearch, а в Kibana строят общие дашборды: ошибки + свои логи + метрики. |
| Когда использовать только Sentry, а когда ещё и Elasticsearch? | Только Sentry — когда достаточно мониторинга ошибок. Sentry + Elasticsearch/Kibana — когда нужна единая картина: ошибки + свои логи и метрики в одном месте (Kibana). |

---

## Кратко для ответа

**Sentry** — сервис мониторинга ошибок: собирает ошибки с фронта (и не только), даёт stack trace и контекст, алерты и дашборды. Для фронтенда нужен, чтобы видеть реальные ошибки в продакшене и быстро их чинить. С **Elasticsearch и Kibana** связан так: Sentry решает задачу ошибок «под ключ»; Elasticsearch + Kibana — общее хранилище и визуализация логов. Часто события Sentry попадают в Elasticsearch, а в Kibana делают общий дашборд: ошибки + свои логи и метрики в одном месте.
