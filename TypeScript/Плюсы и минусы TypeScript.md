# Плюсы и минусы TypeScript

## Краткий ответ для собеседования

**TypeScript** — надстройка над JavaScript с статической типизацией и проверкой на этапе компиляции. Плюсы: меньше багов, лучший автодополнение, рефакторинг безопаснее, самодокументирование. Минусы: время на типы и сборку, порог входа, избыточность для мелких скриптов. Под капотом: компилятор (tsc) стирает типы и выдаёт обычный JS; типы существуют только до сборки и не влияют на рантайм.

---

## Плюсы TypeScript

### 1. Меньше ошибок на рантайме

Проверка типов до запуска кода ловит опечатки в полях, неверное количество аргументов, обращение к несуществующим свойствам. Часть багов устраняется на этапе компиляции, а не в проде.

### 2. Удобство разработки (IDE)

IDE знает типы переменных, параметров и возвращаемых значений — автодополнение, подсказки, переход к определению и поиск использований работают гораздо лучше, чем в «голом» JS.

### 3. Безопасный рефакторинг

Переименование типов, интерфейсов, функций и свойств не ломает проект незаметно: компилятор укажет все места, которые нужно поправить.

### 4. Самодокументирование

Сигнатуры функций и типы полей объектов описывают контракт API и структуру данных. Меньше необходимости смотреть во внешнюю документацию при чтении кода.

### 5. Масштабирование и командная работа

В больших проектах и командах типы задают единые правила: что можно передавать в функции, какие поля есть у объектов. Это снижает количество неожиданных багов при интеграции модулей.

### 6. Постепенное внедрение

Можно подключать TypeScript по шагам: включать проверку в части файлов, использовать типы только там, где они дают пользу, и оставлять `any` или JS-файлы там, где типизация пока не нужна.

---

## Минусы TypeScript

### 1. Время на типы и обучение

Нужно время, чтобы описать типы и научиться писать их лаконично. В начале проект может замедлиться; для маленьких скриптов или прототипов типы часто избыточны.

### 2. Сборка и настройка

TypeScript нужно компилировать в JavaScript (или использовать транспиляцию в сборке). Добавляется шаг сборки и конфигурация (tsconfig, интеграция с бандлером).

### 3. Порог входа

Дженерики, условные типы, утилитарные типы — это дополнительный пласт знаний. Новичкам и командам, привыкшим только к JS, нужно время на адаптацию.

### 4. Типы могут устаревать

Если API или структура данных меняются, а типы не обновляют — компилятор будет ругаться или типы станут неточными. Типы нужно поддерживать наравне с логикой.

### 5. Ограничения типов и обходы

Не всё можно выразить типами идеально; иногда используют утверждения типов или `any`, что ослабляет пользу от типизации. Сложные сценарии требуют продвинутых возможностей TypeScript.

### 6. Размер и время сборки

Типы увеличивают объём исходников; при очень больших проектах компиляция может занимать заметное время. Обычно это решается инкрементальной сборкой и выборочной проверкой.

---

## TypeScript под капотом

### Компилятор и «стирание» типов

TypeScript-код обрабатывает компилятор (tsc или плагин в сборке). Он анализирует типы, проверяет их совместимость и выдаёт ошибки до генерации выхода. В сгенерированный JavaScript попадает только логика: все аннотации типов, интерфейсы и type aliases удаляются. На выполнение в браузере или Node типы не влияют — там работает только JS.

### Нет типов в рантайме

В скомпилированном коде нет информации о типах. Проверки вроде «это число или строка» нужно делать самим (type guards, проверки значений), если они нужны в рантайме. TypeScript не добавляет таких проверок автоматически.

### Структурная типизация

TypeScript проверяет совместимость по форме объекта (есть ли нужные поля и правильные ли у них типы), а не по имени типа. Это отличается от номинативных систем (как в Java/C#). Поэтому два разных интерфейса с одинаковой структурой считаются совместимыми.

### Строгость и tsconfig

Уровень проверки задаётся в tsconfig: strict, noImplicitAny, strictNullChecks и т.д. От этого зависит, сколько потенциальных багов компилятор поймает. Под капотом одна и та же типовая система, но с разной степенью строгости.

---

## Вопросы на собеседовании

| Вопрос | Краткий ответ |
|--------|----------------|
| Зачем TypeScript? | Статическая типизация, меньше багов, лучше автодополнение и рефакторинг, самодокументирование. |
| Минусы TypeScript? | Время на типы и сборку, порог входа, необходимость поддерживать типы, иногда обход через any. |
| Есть ли типы в рантайме? | Нет, после компиляции остаётся только JavaScript, типы стираются. |
| Как TypeScript превращается в JS? | Компилятор (tsc или бандлер) проверяет типы и выдаёт обычный JS без аннотаций. |
| Что такое структурная типизация? | Совместимость по структуре (набору полей и их типов), а не по имени типа. |

---

## Кратко для ответа

TypeScript даёт статическую типизацию и проверку до запуска кода: меньше багов, лучше IDE и рефакторинг. Минусы — время на типы, сборка, порог входа. Под капотом компилятор стирает типы и выдаёт JS; в рантайме типов нет, проверки по типам только на этапе компиляции.
