## üõ°Ô∏è –ó–∞—â–∏—Ç–Ω–∏–∫–∏ —Ç–∏–ø–∞ (Type Guards)

**Type guards –≤ TypeScript** ‚Äî —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —Å—É–∑–∏—Ç—å –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π —Ç–∏–ø.

–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å –ø–æ–º–æ—â—å—é –≤—ã—Ä–∞–∂–µ–Ω–∏–π —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è, –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–≤ –∫–æ—Ç–æ—Ä—ã–µ, –≤—ã–≤–æ–¥ —Ç–∏–ø–æ–≤ —Å–º–æ–∂–µ—Ç —Å—É–∑–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω —Ç–∏–ø–æ–≤ –¥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ –∑–Ω–∞—á–µ–Ω–∏–µ–º.

---

### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –∑–∞—â–∏—Ç–Ω–∏–∫–æ–≤:

#### 1. **`typeof`** ‚Äî –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤

```ts
function isString(value: unknown): value is string {
  return typeof value === 'string';
}

if (isString(value)) {
  value.toUpperCase(); // ‚úÖ TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ value - string
}
```

#### 2. **`instanceof`** ‚Äî –¥–ª—è –∫–ª–∞—Å—Å–æ–≤

```ts
if (error instanceof Error) {
  error.message; // ‚úÖ TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ error - Error
}
```

#### 3. **`in`** ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–æ–π—Å—Ç–≤

```ts
type Dog = { bark: () => void };
type Cat = { meow: () => void };

function isDog(animal: Dog | Cat): animal is Dog {
  return 'bark' in animal;
}

if (isDog(animal)) {
  animal.bark(); // ‚úÖ TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ animal - Dog
}
```

#### 4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏-–ø—Ä–µ–¥–∏–∫–∞—Ç—ã**

```ts
function isUser(obj: unknown): obj is User {
  return (
    typeof obj === 'object' &&
    obj !== null &&
    'id' in obj &&
    'name' in obj
  );
}

if (isUser(data)) {
  console.log(data.name); // ‚úÖ TypeScript –∑–Ω–∞–µ—Ç —Ç–∏–ø
}
```

---

### üéØ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã:

–ß—Ç–æ–±—ã –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–Ω–∏–º–∞–ª, —Å –∫–∞–∫–∏–º –∏–º–µ–Ω–Ω–æ —Ç–∏–ø–æ–º –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –∏–∑ union —Ç–∏–ø–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ.

---

### üí° –ü—Ä–∏–º–µ—Ä:

```ts
function processValue(value: string | number) {
  if (typeof value === 'string') {
    // TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ value - string
    return value.toUpperCase();
  } else {
    // TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ value - number
    return value * 2;
  }
}
```
